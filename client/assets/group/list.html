<ol class="breadcrumb">
  <li><a href="/" data-navigation>Top</a></li>
  <li class="active">Groups</li>
</ol>

<div class="well well-sm dsmoq-filter" id="conditions">
  <div class="row">
    <div class="col-md-12">
      <div class="input-group" style="float:left; width: 400px;">
		<form id="search-form">
			<input type="text" class="form-control" placeholder="query" data-link="condition.query">
		</form>
        <span class="input-group-btn">
          <button class="btn btn-primary" type="button" id="search-button"><span class="glyphicon glyphicon-search"></span></button>
        </span>
      </div>
    </div>
  </div>
</div>

{^{async result ~condition=condition}}
  {^{if total > 0}}
    <p><strong>Found {^{>total}} records</strong></p>
    <ul class="media-list dataset-list">
      {^{for items}}
        <li class="media">
          <div class="pull-left" style="width: 96px; text-align: center;">
            <a class="media-left" href="#"><img src="{{>image+'/96'}}" alt="{{>name}}" /></a>
          </div>
          <div class="media-body">
            <h4 class="media-heading"><a href="/groups/{{>id}}" data-navigation>{{>name}}</a></h4>
            <p>{{if ~trimTags(description)}}{{: ~trimTags(description)}}{{else}}<span class="text-muted">(No description)</span>{{/if}}</p>
            <div>
			  <span class="label label-default">{{>members}} Members</span>
			  <span class="label label-default">{{>datasets}} Datasets</span>&nbsp;
            </div>
          </div>
        </li>
      {{/for}}
    </ul>
    {^{pagination ~condition.index pages id="group-pagination" pagedelta=5 /}}
  {{else}}
     <p>There are no groups.</p>
  {{/if}}
{{/async}}