<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a data-navigation class="navbar-brand header-txt" href="/">COI Data Store</a>
    </div>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li><a data-navigation href="/datasets" class="header-txt">Datasets</a></li>
       　<li><a data-navigation href="/groups" class="header-txt">Groups</a></li>
        {^{if profile == null || profile.isGuest === false}}
          <li><a data-toggle="modal" data-target="#new-dataset-dialog" class="header-txt"><span class="glyphicon glyphicon-cloud-upload"></span> Create Dataset</a></li>
        {{/if}}
      </ul>
      <ul class="nav navbar-nav navbar-right">
        {^{if profile != null && profile.isGuest !== false}}
          <li class="dropdown login-form">
            <a class="btn dropdown-toggle header-txt" data-toggle="dropdown">Signin <span class="caret"></span></a>
            <div class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
              <form method="POST" class="form-horizontal" role="form" id="signin-form">
                <div class="form-group">
                  <label for="form-name" class="col-sm-4 control-label">User Id</label>
                  <div class="col-sm-8"><input type="text" class="form-control" data-link="signinData.id"></div>
                </div>
                <div class="form-group">
                  <label for="form-description" class="col-sm-4 control-label">Password</label>
                  <div class="col-sm-8"><input type="password" class="form-control" data-link="signinData.password"></div>
                </div>
                <p class="text-danger text-center"><strong data-link="signinData.error"></strong></p>
                <div class="form-group">
                  <label class="col-sm-4 control-label"></label>
                  <div class="col-sm-8">
                    <button type="submit" class="btn btn-primary btn-sm" id="signin-submit" data-loading-text="Loading...">Submit</button>
                    <span class="login-failure"></span>
                  </div>
                </div>
              </form>
              <hr/>
		  	  <form method="GET" class="form-horizontal" role="form">
                <div class="form-group">
                  <label class="col-sm-4 control-label"></label>
                  <div class="col-sm-8">
                    <a data-link="href{:location}" class="btn btn-success btn-sm" id="signin-with-google">Signin with Google Account</a>
                  </div>
                </div>
              </form>
            </div>
          </li>
        {{else}}
          <li class="dropdown">
            <a href="#" class="dropdown-toggle header-txt" data-toggle="dropdown">{^{>profile.fullname}} <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a data-toggle="modal" data-target="#new-group-dialog">Create Group</a></li>
              <li><a data-navigation class="control-label" href="/profile">Edit Profile</a></li>
              <li class="divider"></li>
              <li><a class="control-label" href="javascript:void 0;" id="signout-button">Signout</a></li>
            </ul>
          </li>
        <li>

          </li>
        {{/if}}
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</div>

<!-- Modal -->
<div id="new-dataset-dialog" class="modal fade" tabindex="-1" data-width="480" data-keyboard="false" style="display: none;">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h4 class="modal-title">Create Dataset</h4>
  </div>
  <div class="modal-body">
    <form role="form">
		<div class="form-group">
			<input type="text" name="name" placeholder="Dataset Name">
			<input type="file" name="file[]" multiple="multiple">
		</div>
    </form>
	<div class="form-group">
		<input type="checkbox" id="saveLocal"><label for="saveLocal">ローカルに保存する</label>
		<input type="checkbox" id="saveS3"><label for="saveS3">S3に保存する</label>
	</div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" data-loading-text="Creating..." id="new-dataset-dialog-submit">Create</button>
    <button type="button" data-dismiss="modal" class="btn btn-default">Cancel</button>
  </div>
</div>

<div id="new-group-dialog" class="modal fade" tabindex="-1" data-width="600" data-keyboard="false" style="display: none;">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h4 class="modal-title">Create Group</h4>
  </div>
  <div class="modal-body">
    <form role="form" onsubmit="return false;">
      {^{if ~isEmpty(groupForm.errors.name)}}
        <div class="form-group">
          <label for="form-title" class="control-label">Name</label>
          <input type="text" class="form-control" placeholder="Group Name" name="name" data-link="groupForm.name">
        </div>
      {{else}}
        <div class="form-group has-error has-feedback">
          <label for="form-title" class="control-label">Name</label>
          <input type="text" class="form-control" placeholder="Group Name" name="name" data-link="groupForm.name">
          <span class="glyphicon glyphicon-remove form-control-feedback"></span>
        </div>
        <p class="text-danger" data-link="groupForm.errors.name"></p>
      {{/if}}
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" data-loading-text="Creating..." id="new-group-dialog-submit" disabled>Create</button>
    <button type="button" data-dismiss="modal" class="btn btn-default">Cancel</button>
  </div>
</div>